2025-05-22T08:01:52.424+03:00  INFO 17030 --- [Coursework] [main] c.almetpt.coursework.ApplicationTests    : Starting ApplicationTests using Java 17.0.15 with PID 17030 (started by cookie in /home/cookie/IdeaProjects/coursework/backend)
2025-05-22T08:01:52.460+03:00  INFO 17030 --- [Coursework] [main] c.almetpt.coursework.ApplicationTests    : No active profile set, falling back to 1 default profile: "default"
2025-05-22T08:02:00.992+03:00  INFO 17030 --- [Coursework] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-22T08:02:01.432+03:00  INFO 17030 --- [Coursework] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 388 ms. Found 10 JPA repository interfaces.
2025-05-22T08:02:05.287+03:00  INFO 17030 --- [Coursework] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-22T08:02:05.501+03:00  INFO 17030 --- [Coursework] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-22T08:02:05.669+03:00  INFO 17030 --- [Coursework] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-22T08:02:07.182+03:00  INFO 17030 --- [Coursework] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-22T08:02:07.368+03:00  INFO 17030 --- [Coursework] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-22T08:02:08.038+03:00  INFO 17030 --- [Coursework] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@13047d3d
2025-05-22T08:02:08.061+03:00  INFO 17030 --- [Coursework] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-22T08:02:08.377+03:00  INFO 17030 --- [Coursework] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-22T08:02:08.413+03:00 DEBUG 17030 --- [Coursework] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2003, org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@4fd63c43) replaced previous registration(org.hibernate.type.descriptor.sql.internal.ArrayDdlTypeImpl@7d483ebe)
2025-05-22T08:02:08.417+03:00 DEBUG 17030 --- [Coursework] [main] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(6, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@cea67b1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@5d98364c)
2025-05-22T08:02:09.195+03:00  WARN 17030 --- [Coursework] [main] o.h.b.i.InFlightMetadataCollectorImpl    : HHH000069: Duplicate generator name default_generator
2025-05-22T08:02:09.243+03:00  WARN 17030 --- [Coursework] [main] o.h.b.i.InFlightMetadataCollectorImpl    : HHH000069: Duplicate generator name default_generator
2025-05-22T08:02:09.281+03:00  WARN 17030 --- [Coursework] [main] o.h.b.i.InFlightMetadataCollectorImpl    : HHH000069: Duplicate generator name default_generator
2025-05-22T08:02:09.313+03:00  WARN 17030 --- [Coursework] [main] o.h.b.i.InFlightMetadataCollectorImpl    : HHH000069: Duplicate generator name default_generator
2025-05-22T08:02:09.340+03:00  WARN 17030 --- [Coursework] [main] o.h.b.i.InFlightMetadataCollectorImpl    : HHH000069: Duplicate generator name default_generator
2025-05-22T08:02:09.398+03:00  WARN 17030 --- [Coursework] [main] o.h.b.i.InFlightMetadataCollectorImpl    : HHH000069: Duplicate generator name default_generator
2025-05-22T08:02:09.418+03:00  WARN 17030 --- [Coursework] [main] o.h.b.i.InFlightMetadataCollectorImpl    : HHH000069: Duplicate generator name default_generator
2025-05-22T08:02:15.298+03:00  INFO 17030 --- [Coursework] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-22T08:02:19.700+03:00  INFO 17030 --- [Coursework] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-22T08:02:20.764+03:00  INFO 17030 --- [Coursework] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-22T08:02:31.931+03:00  WARN 17030 --- [Coursework] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-22T08:02:32.018+03:00  INFO 17030 --- [Coursework] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-05-22T08:02:35.944+03:00  WARN 17030 --- [Coursework] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-22T08:02:37.442+03:00  INFO 17030 --- [Coursework] [main] c.almetpt.coursework.ApplicationTests    : Started ApplicationTests in 47.104 seconds (process running for 54.141)
2025-05-22T08:02:37.644+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : select count(*) from roles r1_0
2025-05-22T08:02:37.893+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.created_by,r1_0.created_when,r1_0.deleted_by,r1_0.deleted_when,r1_0.is_deleted,r1_0.name,r1_0.updated_by,r1_0.updated_when from roles r1_0 where r1_0.name=?
2025-05-22T08:02:38.017+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.created_by,r1_0.created_when,r1_0.deleted_by,r1_0.deleted_when,r1_0.is_deleted,r1_0.name,r1_0.updated_by,r1_0.updated_when from roles r1_0 where r1_0.name=?
2025-05-22T08:02:38.036+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.created_by,r1_0.created_when,r1_0.deleted_by,r1_0.deleted_when,r1_0.is_deleted,r1_0.name,r1_0.updated_by,r1_0.updated_when from roles r1_0 where r1_0.name=?
2025-05-22T08:02:38.054+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.avatar_url,u1_0.birth_date,u1_0.change_password_token,u1_0.created_by,u1_0.created_when,u1_0.deleted_by,u1_0.deleted_when,u1_0.email,u1_0.first_name,u1_0.is_deleted,u1_0.last_name,u1_0.password,u1_0.patronymic,u1_0.phone,u1_0.role_id,u1_0.updated_by,u1_0.updated_when from users u1_0 where u1_0.email=?
2025-05-22T08:02:38.093+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : select c1_0.id,c1_0.created_by,c1_0.created_when,c1_0.deleted_by,c1_0.deleted_when,c1_0.is_deleted,c1_0.updated_by,c1_0.updated_when,c1_0.user_id,u1_0.id,u1_0.address,u1_0.avatar_url,u1_0.birth_date,u1_0.change_password_token,u1_0.created_by,u1_0.created_when,u1_0.deleted_by,u1_0.deleted_when,u1_0.email,u1_0.first_name,u1_0.is_deleted,u1_0.last_name,u1_0.password,u1_0.patronymic,u1_0.phone,r1_0.id,r1_0.created_by,r1_0.created_when,r1_0.deleted_by,r1_0.deleted_when,r1_0.is_deleted,r1_0.name,r1_0.updated_by,r1_0.updated_when,u1_0.updated_by,u1_0.updated_when from carts c1_0 join users u1_0 on u1_0.id=c1_0.user_id left join roles r1_0 on r1_0.id=u1_0.role_id where c1_0.user_id=?
2025-05-22T08:02:38.128+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.created_by,r1_0.created_when,r1_0.deleted_by,r1_0.deleted_when,r1_0.is_deleted,r1_0.name,r1_0.updated_by,r1_0.updated_when from roles r1_0 where r1_0.id=?
2025-05-22T08:02:38.166+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : select u1_0.id,u1_0.address,u1_0.avatar_url,u1_0.birth_date,u1_0.change_password_token,u1_0.created_by,u1_0.created_when,u1_0.deleted_by,u1_0.deleted_when,u1_0.email,u1_0.first_name,u1_0.is_deleted,u1_0.last_name,u1_0.password,u1_0.patronymic,u1_0.phone,u1_0.role_id,u1_0.updated_by,u1_0.updated_when from users u1_0 where u1_0.email=?
2025-05-22T08:02:38.191+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : select c1_0.id,c1_0.created_by,c1_0.created_when,c1_0.deleted_by,c1_0.deleted_when,c1_0.is_deleted,c1_0.updated_by,c1_0.updated_when,c1_0.user_id,u1_0.id,u1_0.address,u1_0.avatar_url,u1_0.birth_date,u1_0.change_password_token,u1_0.created_by,u1_0.created_when,u1_0.deleted_by,u1_0.deleted_when,u1_0.email,u1_0.first_name,u1_0.is_deleted,u1_0.last_name,u1_0.password,u1_0.patronymic,u1_0.phone,r1_0.id,r1_0.created_by,r1_0.created_when,r1_0.deleted_by,r1_0.deleted_when,r1_0.is_deleted,r1_0.name,r1_0.updated_by,r1_0.updated_when,u1_0.updated_by,u1_0.updated_when from carts c1_0 join users u1_0 on u1_0.id=c1_0.user_id left join roles r1_0 on r1_0.id=u1_0.role_id where c1_0.user_id=?
2025-05-22T08:02:38.217+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : select r1_0.id,r1_0.created_by,r1_0.created_when,r1_0.deleted_by,r1_0.deleted_when,r1_0.is_deleted,r1_0.name,r1_0.updated_by,r1_0.updated_when from roles r1_0 where r1_0.id=?
2025-05-22T08:02:38.239+03:00  INFO 17030 --- [Coursework] [main] c.a.coursework.CourseworkApplication     : Администратор уже существует
2025-05-22T08:02:38.246+03:00  INFO 17030 --- [Coursework] [main] c.a.coursework.CourseworkApplication     : Swagger UI: http://localhost:8080/swagger-ui/index.html
2025-05-22T08:02:38.249+03:00  INFO 17030 --- [Coursework] [main] c.a.coursework.CourseworkApplication     : Application: http://localhost:8080/
2025-05-22T08:02:43.012+03:00  INFO 17030 --- [Coursework] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.almetpt.coursework.bookclub.controllers.ProductSearchIntegrationTest]: ProductSearchIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-22T08:02:43.275+03:00  INFO 17030 --- [Coursework] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.almetpt.coursework.CourseworkApplication for test class com.almetpt.coursework.bookclub.controllers.ProductSearchIntegrationTest
2025-05-22T08:02:43.309+03:00  INFO 17030 --- [Coursework] [main] o.s.b.d.r.RestartApplicationListener     : Restart disabled due to context in which it is running
2025-05-22T08:02:43.495+03:00  INFO 17030 --- [Coursework] [main] c.a.c.b.c.ProductSearchIntegrationTest   : Starting ProductSearchIntegrationTest using Java 17.0.15 with PID 17030 (started by cookie in /home/cookie/IdeaProjects/coursework/backend)
2025-05-22T08:02:43.499+03:00 DEBUG 17030 --- [Coursework] [main] c.a.c.b.c.ProductSearchIntegrationTest   : Running with Spring Boot v3.4.4, Spring v6.2.5
2025-05-22T08:02:43.502+03:00  INFO 17030 --- [Coursework] [main] c.a.c.b.c.ProductSearchIntegrationTest   : The following 1 profile is active: "test"
2025-05-22T08:02:44.796+03:00  INFO 17030 --- [Coursework] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-22T08:02:44.884+03:00  INFO 17030 --- [Coursework] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 82 ms. Found 10 JPA repository interfaces.
2025-05-22T08:02:45.616+03:00  INFO 17030 --- [Coursework] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-22T08:02:45.624+03:00  INFO 17030 --- [Coursework] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-22T08:02:45.666+03:00  INFO 17030 --- [Coursework] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-22T08:02:45.670+03:00  INFO 17030 --- [Coursework] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-05-22T08:02:46.367+03:00  INFO 17030 --- [Coursework] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-05-22T08:02:46.371+03:00  INFO 17030 --- [Coursework] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-05-22T08:02:46.398+03:00  WARN 17030 --- [Coursework] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-22T08:02:46.425+03:00  INFO 17030 --- [Coursework] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-22T08:02:46.510+03:00  WARN 17030 --- [Coursework] [main] o.h.b.i.InFlightMetadataCollectorImpl    : HHH000069: Duplicate generator name default_generator
2025-05-22T08:02:46.527+03:00  WARN 17030 --- [Coursework] [main] o.h.b.i.InFlightMetadataCollectorImpl    : HHH000069: Duplicate generator name default_generator
2025-05-22T08:02:46.564+03:00  WARN 17030 --- [Coursework] [main] o.h.b.i.InFlightMetadataCollectorImpl    : HHH000069: Duplicate generator name default_generator
2025-05-22T08:02:46.583+03:00  WARN 17030 --- [Coursework] [main] o.h.b.i.InFlightMetadataCollectorImpl    : HHH000069: Duplicate generator name default_generator
2025-05-22T08:02:46.604+03:00  WARN 17030 --- [Coursework] [main] o.h.b.i.InFlightMetadataCollectorImpl    : HHH000069: Duplicate generator name default_generator
2025-05-22T08:02:46.655+03:00  WARN 17030 --- [Coursework] [main] o.h.b.i.InFlightMetadataCollectorImpl    : HHH000069: Duplicate generator name default_generator
2025-05-22T08:02:46.680+03:00  WARN 17030 --- [Coursework] [main] o.h.b.i.InFlightMetadataCollectorImpl    : HHH000069: Duplicate generator name default_generator
2025-05-22T08:02:47.682+03:00  INFO 17030 --- [Coursework] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-22T08:02:47.688+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop table if exists audit_entries cascade 
2025-05-22T08:02:47.697+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop table if exists book_genres cascade 
2025-05-22T08:02:47.698+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop table if exists books cascade 
2025-05-22T08:02:47.701+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop table if exists cart_products cascade 
2025-05-22T08:02:47.703+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop table if exists carts cascade 
2025-05-22T08:02:47.705+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop table if exists event_applications cascade 
2025-05-22T08:02:47.707+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop table if exists events cascade 
2025-05-22T08:02:47.710+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop table if exists order_products cascade 
2025-05-22T08:02:47.712+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop table if exists orders cascade 
2025-05-22T08:02:47.713+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop table if exists products cascade 
2025-05-22T08:02:47.714+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-05-22T08:02:47.716+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop table if exists slider_books cascade 
2025-05-22T08:02:47.717+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-05-22T08:02:47.719+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop sequence if exists books_seq
2025-05-22T08:02:47.722+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop sequence if exists carts_seq
2025-05-22T08:02:47.724+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop sequence if exists event_applications_seq
2025-05-22T08:02:47.726+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop sequence if exists events_seq
2025-05-22T08:02:47.728+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop sequence if exists orders_seq
2025-05-22T08:02:47.728+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop sequence if exists products_seq
2025-05-22T08:02:47.729+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop sequence if exists slider_books_seq
2025-05-22T08:02:47.729+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    drop sequence if exists users_seq
2025-05-22T08:02:47.743+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create sequence books_seq start with 1 increment by 1
2025-05-22T08:02:47.750+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create sequence carts_seq start with 1 increment by 1
2025-05-22T08:02:47.752+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create sequence event_applications_seq start with 1 increment by 1
2025-05-22T08:02:47.756+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create sequence events_seq start with 1 increment by 1
2025-05-22T08:02:47.760+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create sequence orders_seq start with 1 increment by 1
2025-05-22T08:02:47.764+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create sequence products_seq start with 1 increment by 1
2025-05-22T08:02:47.766+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create sequence slider_books_seq start with 1 increment by 1
2025-05-22T08:02:47.769+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create sequence users_seq start with 1 increment by 1
2025-05-22T08:02:47.780+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create table audit_entries (
        id bigint generated by default as identity,
        resource_id bigint,
        timestamp timestamp(6) not null,
        details varchar(1000),
        action_type varchar(255) not null,
        resource_type varchar(255),
        user_email varchar(255),
        primary key (id)
    )
2025-05-22T08:02:47.808+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create table book_genres (
        book_id bigint not null,
        genre enum ('AUTOBIOGRAPHY','BIOGRAPHY','BUSINESS','CHILDREN','CLASSICS','DRAMA','FANTASY','FICTION','HISTORICAL_FICTION','HORROR','MEMOIR','MYSTERY','NON_FICTION','POETRY','ROMANCE','SCIENCE_FICTION','SELF_HELP','THRILLER','TRAVEL','WESTERN')
    )
2025-05-22T08:02:47.814+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create table books (
        is_deleted boolean default false,
        is_reading boolean default false not null,
        publication_date date,
        created_when timestamp(6),
        deleted_when timestamp(6),
        id bigint not null,
        updated_when timestamp(6),
        author varchar(255) not null,
        cover_image_filename varchar(255),
        cover_image_url varchar(255),
        created_by varchar(255),
        deleted_by varchar(255),
        description TEXT,
        original_cover_image_filename varchar(255),
        title varchar(255) not null,
        updated_by varchar(255),
        cover_image_data blob,
        primary key (id)
    )
2025-05-22T08:02:47.818+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create table cart_products (
        cart_id bigint not null,
        product_id bigint not null
    )
2025-05-22T08:02:47.823+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create table carts (
        is_deleted boolean default false,
        created_when timestamp(6),
        deleted_when timestamp(6),
        id bigint not null,
        updated_when timestamp(6),
        user_id bigint not null unique,
        created_by varchar(255),
        deleted_by varchar(255),
        updated_by varchar(255),
        primary key (id)
    )
2025-05-22T08:02:47.833+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create table event_applications (
        attended boolean,
        is_deleted boolean default false,
        created_when timestamp(6),
        deleted_when timestamp(6),
        event_id bigint not null,
        id bigint not null,
        updated_when timestamp(6),
        user_id bigint not null,
        created_by varchar(255),
        deleted_by varchar(255),
        qr_code TEXT,
        updated_by varchar(255),
        rejection_reason enum ('EVENT_CANCELLED','NO_CAPACITY','OTHER'),
        status enum ('APPROVED','PENDING','REJECTED'),
        primary key (id)
    )
2025-05-22T08:02:47.840+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create table events (
        is_cancelled boolean,
        is_deleted boolean default false,
        max_participants integer,
        book_id bigint,
        created_when timestamp(6),
        date timestamp(6) not null,
        deleted_when timestamp(6),
        id bigint not null,
        updated_when timestamp(6),
        cancellation_reason varchar(255),
        created_by varchar(255),
        deleted_by varchar(255),
        description TEXT,
        event_type varchar(255),
        title varchar(255) not null,
        updated_by varchar(255),
        primary key (id)
    )
2025-05-22T08:02:47.846+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create table order_products (
        order_id bigint not null,
        product_id bigint not null
    )
2025-05-22T08:02:47.849+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create table orders (
        is_deleted boolean default false,
        total numeric(38,2) not null,
        created_when timestamp(6),
        deleted_when timestamp(6),
        id bigint not null,
        updated_when timestamp(6),
        user_id bigint not null,
        created_by varchar(255),
        deleted_by varchar(255),
        updated_by varchar(255),
        status enum ('CANCELLED','COMPLETED','PENDING'),
        primary key (id)
    )
2025-05-22T08:02:47.855+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create table products (
        is_deleted boolean default false,
        price numeric(38,2) not null,
        created_when timestamp(6),
        deleted_when timestamp(6),
        id bigint not null,
        updated_when timestamp(6),
        cover_image_filename varchar(255),
        cover_image_url varchar(255),
        created_by varchar(255),
        deleted_by varchar(255),
        description TEXT,
        electronic_product_filename varchar(255),
        name varchar(255) not null,
        original_cover_image_filename varchar(255),
        original_electronic_product_filename varchar(255),
        updated_by varchar(255),
        category enum ('AUDIO_BOOK','E_BOOK','LECTURE','MEETING_RECORDING'),
        cover_image_data blob,
        primary key (id)
    )
2025-05-22T08:02:47.861+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create table roles (
        is_deleted boolean default false,
        created_when timestamp(6),
        deleted_when timestamp(6),
        id bigint not null,
        updated_when timestamp(6),
        created_by varchar(255),
        deleted_by varchar(255),
        name varchar(255) not null unique,
        updated_by varchar(255),
        primary key (id)
    )
2025-05-22T08:02:47.868+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create table slider_books (
        is_deleted boolean default false,
        position integer not null,
        book_id bigint not null,
        created_when timestamp(6),
        deleted_when timestamp(6),
        id bigint not null,
        updated_when timestamp(6),
        background_image_filename varchar(255),
        background_image_url varchar(255),
        created_by varchar(255),
        custom_description TEXT,
        deleted_by varchar(255),
        updated_by varchar(255),
        background_image_data blob,
        primary key (id)
    )
2025-05-22T08:02:47.876+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create table users (
        birth_date date not null,
        is_deleted boolean default false,
        created_when timestamp(6),
        deleted_when timestamp(6),
        id bigint not null,
        role_id bigint,
        updated_when timestamp(6),
        phone varchar(20),
        address varchar(255),
        avatar_url varchar(255),
        change_password_token varchar(255),
        created_by varchar(255),
        deleted_by varchar(255),
        email varchar(255) not null unique,
        first_name varchar(255),
        last_name varchar(255),
        password varchar(255) not null,
        patronymic varchar(255),
        updated_by varchar(255),
        primary key (id)
    )
2025-05-22T08:02:47.893+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create index idx_audit_timestamp 
       on audit_entries (timestamp)
2025-05-22T08:02:47.898+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create index idx_audit_action_type 
       on audit_entries (action_type)
2025-05-22T08:02:47.905+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create index idx_audit_user_email 
       on audit_entries (user_email)
2025-05-22T08:02:47.909+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    create index idx_audit_resource 
       on audit_entries (resource_type, resource_id)
2025-05-22T08:02:47.914+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    alter table if exists book_genres 
       add constraint FKtqnlma9c5byf3gfqsuu0ebrl5 
       foreign key (book_id) 
       references books
2025-05-22T08:02:47.974+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    alter table if exists cart_products 
       add constraint FKdayy17at10up1qqwlri9cocb3 
       foreign key (product_id) 
       references products
2025-05-22T08:02:47.981+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    alter table if exists cart_products 
       add constraint FKbilp3o9irlsvmbot68kfpthom 
       foreign key (cart_id) 
       references carts
2025-05-22T08:02:47.989+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    alter table if exists carts 
       add constraint FKb5o626f86h46m4s7ms6ginnop 
       foreign key (user_id) 
       references users
2025-05-22T08:02:47.996+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    alter table if exists event_applications 
       add constraint FKedhx3fudbydw9jdnj0r19bkgy 
       foreign key (event_id) 
       references events
2025-05-22T08:02:48.003+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    alter table if exists event_applications 
       add constraint FKsul8iidinaqtokaj9esetjhg 
       foreign key (user_id) 
       references users
2025-05-22T08:02:48.008+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    alter table if exists events 
       add constraint FKovh0qar2frto4fcjbbbtlqkst 
       foreign key (book_id) 
       references books
2025-05-22T08:02:48.013+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    alter table if exists order_products 
       add constraint FKdxjduvg7991r4qja26fsckxv8 
       foreign key (product_id) 
       references products
2025-05-22T08:02:48.020+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    alter table if exists order_products 
       add constraint FKawxpt1ns1sr7al76nvjkv21of 
       foreign key (order_id) 
       references orders
2025-05-22T08:02:48.027+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    alter table if exists orders 
       add constraint FK32ql8ubntj5uh44ph9659tiih 
       foreign key (user_id) 
       references users
2025-05-22T08:02:48.034+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    alter table if exists slider_books 
       add constraint FKdmjnrkn4shcbr23cqri8kpndo 
       foreign key (book_id) 
       references books
2025-05-22T08:02:48.040+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    alter table if exists users 
       add constraint FKp56c1712k691lhsyewcssf40f 
       foreign key (role_id) 
       references roles
2025-05-22T08:02:48.060+03:00  INFO 17030 --- [Coursework] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-22T08:02:50.629+03:00  WARN 17030 --- [Coursework] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-22T08:02:50.688+03:00  INFO 17030 --- [Coursework] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-05-22T08:02:52.885+03:00  WARN 17030 --- [Coursework] [main] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2025-05-22T08:02:54.731+03:00 DEBUG 17030 --- [Coursework] [main] c.a.c.b.config.jwt.JWTCookieFilter       : Filter 'JWTCookieFilter' configured for use
2025-05-22T08:02:54.754+03:00  INFO 17030 --- [Coursework] [main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-05-22T08:02:54.761+03:00  INFO 17030 --- [Coursework] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-05-22T08:02:54.801+03:00  INFO 17030 --- [Coursework] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 34 ms
2025-05-22T08:02:55.083+03:00  INFO 17030 --- [Coursework] [main] c.a.c.b.c.ProductSearchIntegrationTest   : Started ProductSearchIntegrationTest in 11.775 seconds (process running for 71.782)
2025-05-22T08:02:55.126+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        count(*) 
    from
        roles r1_0
2025-05-22T08:02:55.330+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        next value for products_seq
2025-05-22T08:02:55.654+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (created_by, created_when, deleted_by, deleted_when, is_deleted, name, updated_by, updated_when, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-22T08:02:55.722+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        next value for products_seq
2025-05-22T08:02:55.732+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (created_by, created_when, deleted_by, deleted_when, is_deleted, name, updated_by, updated_when, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-22T08:02:55.773+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        next value for products_seq
2025-05-22T08:02:55.808+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    insert 
    into
        roles
        (created_by, created_when, deleted_by, deleted_when, is_deleted, name, updated_by, updated_when, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-22T08:02:55.826+03:00  INFO 17030 --- [Coursework] [main] c.a.coursework.CourseworkApplication     : Роли успешно созданы
2025-05-22T08:02:55.925+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.address,
        u1_0.avatar_url,
        u1_0.birth_date,
        u1_0.change_password_token,
        u1_0.created_by,
        u1_0.created_when,
        u1_0.deleted_by,
        u1_0.deleted_when,
        u1_0.email,
        u1_0.first_name,
        u1_0.is_deleted,
        u1_0.last_name,
        u1_0.password,
        u1_0.patronymic,
        u1_0.phone,
        u1_0.role_id,
        u1_0.updated_by,
        u1_0.updated_when 
    from
        users u1_0 
    where
        u1_0.email=?
2025-05-22T08:02:57.960+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        next value for users_seq
2025-05-22T08:02:57.988+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (address, avatar_url, birth_date, change_password_token, created_by, created_when, deleted_by, deleted_when, email, first_name, is_deleted, last_name, password, patronymic, phone, role_id, updated_by, updated_when, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-22T08:02:58.061+03:00  INFO 17030 --- [Coursework] [main] c.a.coursework.CourseworkApplication     : Администратор создан с email: admin и паролем: admin
2025-05-22T08:02:58.068+03:00  INFO 17030 --- [Coursework] [main] c.a.coursework.CourseworkApplication     : Swagger UI: http://localhost:8080/swagger-ui/index.html
2025-05-22T08:02:58.074+03:00  INFO 17030 --- [Coursework] [main] c.a.coursework.CourseworkApplication     : Application: http://localhost:8080/
2025-05-22T08:02:58.280+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.category,
        p1_0.cover_image_data,
        p1_0.cover_image_filename,
        p1_0.cover_image_url,
        p1_0.created_by,
        p1_0.created_when,
        p1_0.deleted_by,
        p1_0.deleted_when,
        p1_0.description,
        p1_0.electronic_product_filename,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.original_cover_image_filename,
        p1_0.original_electronic_product_filename,
        p1_0.price,
        p1_0.updated_by,
        p1_0.updated_when 
    from
        products p1_0
2025-05-22T08:02:58.295+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        next value for products_seq
2025-05-22T08:02:58.301+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    insert 
    into
        products
        (category, cover_image_data, cover_image_filename, cover_image_url, created_by, created_when, deleted_by, deleted_when, description, electronic_product_filename, is_deleted, name, original_cover_image_filename, original_electronic_product_filename, price, updated_by, updated_when, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-22T08:02:58.310+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        next value for products_seq
2025-05-22T08:02:58.316+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    insert 
    into
        products
        (category, cover_image_data, cover_image_filename, cover_image_url, created_by, created_when, deleted_by, deleted_when, description, electronic_product_filename, is_deleted, name, original_cover_image_filename, original_electronic_product_filename, price, updated_by, updated_when, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-22T08:02:58.331+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        next value for products_seq
2025-05-22T08:02:58.341+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    insert 
    into
        products
        (category, cover_image_data, cover_image_filename, cover_image_url, created_by, created_when, deleted_by, deleted_when, description, electronic_product_filename, is_deleted, name, original_cover_image_filename, original_electronic_product_filename, price, updated_by, updated_when, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-22T08:02:58.761+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.category,
        p1_0.cover_image_data,
        p1_0.cover_image_filename,
        p1_0.cover_image_url,
        p1_0.created_by,
        p1_0.created_when,
        p1_0.deleted_by,
        p1_0.deleted_when,
        p1_0.description,
        p1_0.electronic_product_filename,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.original_cover_image_filename,
        p1_0.original_electronic_product_filename,
        p1_0.price,
        p1_0.updated_by,
        p1_0.updated_when 
    from
        products p1_0 
    where
        p1_0.is_deleted=false 
        and (
            cast(? as varchar)='' 
            or lower(p1_0.name) like lower(('%'||?||'%')) escape ''
        ) 
        and (
            ? is null 
            or p1_0.category=?
        ) 
    fetch
        first ? rows only
2025-05-22T08:02:58.837+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    insert 
    into
        audit_entries
        (action_type, details, resource_id, resource_type, timestamp, user_email, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-05-22T08:02:58.893+03:00 DEBUG 17030 --- [Coursework] [main] c.a.c.bookclub.aspects.AuditAspect       : AuditAspect: Saved audit entry: com.almetpt.coursework.bookclub.model.AuditEntry@599c3b7b
2025-05-22T08:02:59.053+03:00  WARN 17030 --- [Coursework] [main] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-05-22T08:02:59.355+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.category,
        p1_0.cover_image_data,
        p1_0.cover_image_filename,
        p1_0.cover_image_url,
        p1_0.created_by,
        p1_0.created_when,
        p1_0.deleted_by,
        p1_0.deleted_when,
        p1_0.description,
        p1_0.electronic_product_filename,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.original_cover_image_filename,
        p1_0.original_electronic_product_filename,
        p1_0.price,
        p1_0.updated_by,
        p1_0.updated_when 
    from
        products p1_0
2025-05-22T08:02:59.391+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    delete 
    from
        products 
    where
        id=?
2025-05-22T08:02:59.401+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    delete 
    from
        products 
    where
        id=?
2025-05-22T08:02:59.404+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    delete 
    from
        products 
    where
        id=?
2025-05-22T08:02:59.411+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        next value for products_seq
2025-05-22T08:02:59.416+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    insert 
    into
        products
        (category, cover_image_data, cover_image_filename, cover_image_url, created_by, created_when, deleted_by, deleted_when, description, electronic_product_filename, is_deleted, name, original_cover_image_filename, original_electronic_product_filename, price, updated_by, updated_when, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-22T08:02:59.422+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        next value for products_seq
2025-05-22T08:02:59.427+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    insert 
    into
        products
        (category, cover_image_data, cover_image_filename, cover_image_url, created_by, created_when, deleted_by, deleted_when, description, electronic_product_filename, is_deleted, name, original_cover_image_filename, original_electronic_product_filename, price, updated_by, updated_when, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-22T08:02:59.432+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        next value for products_seq
2025-05-22T08:02:59.435+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    insert 
    into
        products
        (category, cover_image_data, cover_image_filename, cover_image_url, created_by, created_when, deleted_by, deleted_when, description, electronic_product_filename, is_deleted, name, original_cover_image_filename, original_electronic_product_filename, price, updated_by, updated_when, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-05-22T08:02:59.455+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.category,
        p1_0.cover_image_data,
        p1_0.cover_image_filename,
        p1_0.cover_image_url,
        p1_0.created_by,
        p1_0.created_when,
        p1_0.deleted_by,
        p1_0.deleted_when,
        p1_0.description,
        p1_0.electronic_product_filename,
        p1_0.is_deleted,
        p1_0.name,
        p1_0.original_cover_image_filename,
        p1_0.original_electronic_product_filename,
        p1_0.price,
        p1_0.updated_by,
        p1_0.updated_when 
    from
        products p1_0 
    where
        p1_0.is_deleted=false 
        and (
            cast(? as varchar)='' 
            or lower(p1_0.name) like lower(('%'||?||'%')) escape ''
        ) 
        and (
            ? is null 
            or p1_0.category=?
        ) 
    fetch
        first ? rows only
2025-05-22T08:02:59.469+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    insert 
    into
        audit_entries
        (action_type, details, resource_id, resource_type, timestamp, user_email, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-05-22T08:02:59.478+03:00 DEBUG 17030 --- [Coursework] [main] c.a.c.bookclub.aspects.AuditAspect       : AuditAspect: Saved audit entry: com.almetpt.coursework.bookclub.model.AuditEntry@76762af0
2025-05-22T08:02:59.524+03:00  INFO 17030 --- [Coursework] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.almetpt.coursework.bookclub.controllers.ProductControllerIntegrationTest]: ProductControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-05-22T08:02:59.537+03:00  INFO 17030 --- [Coursework] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.almetpt.coursework.CourseworkApplication for test class com.almetpt.coursework.bookclub.controllers.ProductControllerIntegrationTest
2025-05-22T08:02:59.589+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    insert 
    into
        audit_entries
        (action_type, details, resource_id, resource_type, timestamp, user_email, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-05-22T08:02:59.596+03:00 DEBUG 17030 --- [Coursework] [main] c.a.c.bookclub.aspects.AuditAspect       : AuditAspect: Saved audit entry: com.almetpt.coursework.bookclub.model.AuditEntry@5b1290f
2025-05-22T08:02:59.660+03:00 DEBUG 17030 --- [Coursework] [main] org.hibernate.SQL                        : 
    insert 
    into
        audit_entries
        (action_type, details, resource_id, resource_type, timestamp, user_email, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-05-22T08:02:59.667+03:00 DEBUG 17030 --- [Coursework] [main] c.a.c.bookclub.aspects.AuditAspect       : AuditAspect: Saved audit entry: com.almetpt.coursework.bookclub.model.AuditEntry@6e30ed37
2025-05-22T08:03:02.490+03:00  WARN 17030 --- [Coursework] [main] c.a.c.bookclub.service.UserService       : Токен expired-token для пользователя user@example.com истек (проверка валидности).
2025-05-22T08:03:02.507+03:00  WARN 17030 --- [Coursework] [main] c.a.c.bookclub.service.UserService       : Попытка валидации несуществующего токена: non-existent-token
2025-05-22T08:03:02.594+03:00  INFO 17030 --- [Coursework] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-22T08:03:02.606+03:00  INFO 17030 --- [Coursework] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-22T08:03:02.621+03:00  INFO 17030 --- [Coursework] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-22T08:03:02.645+03:00  INFO 17030 --- [Coursework] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-22T08:03:02.649+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists audit_entries cascade 
2025-05-22T08:03:02.658+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists book_genres cascade 
2025-05-22T08:03:02.663+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists books cascade 
2025-05-22T08:03:02.676+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists cart_products cascade 
2025-05-22T08:03:02.680+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists carts cascade 
2025-05-22T08:03:02.685+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists event_applications cascade 
2025-05-22T08:03:02.690+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists events cascade 
2025-05-22T08:03:02.695+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists order_products cascade 
2025-05-22T08:03:02.699+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists orders cascade 
2025-05-22T08:03:02.703+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists products cascade 
2025-05-22T08:03:02.708+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-05-22T08:03:02.713+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists slider_books cascade 
2025-05-22T08:03:02.716+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-05-22T08:03:02.722+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop sequence if exists books_seq
2025-05-22T08:03:02.728+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop sequence if exists carts_seq
2025-05-22T08:03:02.731+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop sequence if exists event_applications_seq
2025-05-22T08:03:02.735+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop sequence if exists events_seq
2025-05-22T08:03:02.740+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop sequence if exists orders_seq
2025-05-22T08:03:02.745+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop sequence if exists products_seq
2025-05-22T08:03:02.749+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop sequence if exists slider_books_seq
2025-05-22T08:03:02.753+03:00 DEBUG 17030 --- [Coursework] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop sequence if exists users_seq
2025-05-22T08:03:02.759+03:00  INFO 17030 --- [Coursework] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-05-22T08:03:02.765+03:00  INFO 17030 --- [Coursework] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
